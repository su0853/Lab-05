# Lab-05_1
## 題目
資料基本包含：

書籍：ISBN、書名、作者 (可能多位)、出版社名稱、出版社地址、出版年份、書籍類別。

會員：會員卡號、會員姓名、會員地址、會員電話、會員Email。

借閱：會員卡號、會員姓名、ISBN、書名、借閱日期、應還日期、實際歸還日期。
## 相依性

### 函數相依性
* 書籍:
  * (ISBN ->書名、作者、出版社名稱、出版年份、書籍類別)
  * (出版社名稱 ->出版社地址)
* 會員:
  * (會員卡號->會員姓名、會員地址、會員電話、會員Email)
* 借閱:
  * (會員卡號、ISBN、借閱日期->實際歸還日期)
  * (會員卡號->會員姓名)
  * (ISBN->書名)
  * (借閱日期->應還日期)
## 問題
識別問題與函數相依性：
分析上述初步收集的資料，找出潛在的資料重複、插入異常、更新異常和刪除異常。
列出所有合理的函數相依性。

* 書籍
  * 資料重複：
    * 作者
    * 出版社名稱->出版社地址
    * 書籍類別
  * 插入異常：
    * 當當前書的還沒加入書籍時,無法儲存出版社名稱
    * 當當前書的還沒加入書籍時,無法儲存類別名稱
    * 當當前書的還沒加入書籍時,無法儲存作者名稱
  * 更新異常：
    * 作者
    * 出版社名稱->出版社地址
  * 刪除異常：
    * 當刪除的書籍的出版社在表中只有一個時,會導致出版社的資訊遺失
    * 當刪除的書籍的出版社在表中只有一個時,會導致書籍類別的資訊遺失
    * 當刪除的書籍的出版社在表中只有一個時,會導致作者的資訊遺失
  
  
* 會員
  * 資料重複：
  * 插入異常：
  * 更新異常：
  * 刪除異常：

* 借閱
  * 資料重複：
    * 會員姓名
    * 書名
  * 插入異常：
  * 更新異常：
    * 會員姓名
    * 書名
  * 刪除異常：
## 合理的函數相依性
書籍：ISBN、書名、出版社編號、出版年份、書籍類別編號。

書籍與作者(可能多位):
ISBN、作者編號

會員：會員卡號、會員姓名、會員地址、會員電話、會員Email。

借閱：會員卡號、ISBN、借閱日期、實際歸還日期。

作者:作者編號、作者名稱

出版社:出版社編號、出版社名稱、出版社地址

書籍類別:書籍類別編號、類別名稱
## 正規化設計
### 函數相依性
* 書籍:
  * (ISBN ->書名、作者編號、出版社編號、出版年份、書籍類別編號)
* 書籍與作者:
  * (ISBN->作者編號)

* 會員:
  * (會員卡號->會員姓名、會員地址、會員電話、會員Email)
* 借閱:
  * (會員卡號、ISBN、借閱日期->實際歸還日期)
* 作者:
  * (作者編號->作者名稱)
* 出版社:
  * (出版社編號->出版社名稱)
* 書籍類別:
  * (書籍類別編號->類別名稱)
## 分析與說明  

* 書籍
  * 資料重複：
    * 作者
    * 出版社名稱->出版社地址
    * 書籍類別
  * 插入異常：
    * 當當前書的還沒加入書籍時,無法儲存出版社名稱
    * 當當前書的還沒加入書籍時,無法儲存類別名稱
    * 當當前書的還沒加入書籍時,無法儲存作者名稱
  * 更新異常：
    * 作者
    * 出版社名稱->出版社地址
  * 刪除異常：
    * 當刪除的書籍的出版社在表中只有一個時,會導致出版社的資訊遺失
    * 當刪除的書籍的出版社在表中只有一個時,會導致書籍類別的資訊遺失
    * 當刪除的書籍的出版社在表中只有一個時,會導致作者的資訊遺失
    
### # 書籍的表中的出版社也是主鍵並沒有達到唯一的主鍵(違反1NF)
     修正:建立出版社的表
     出版社:出版社編號、出版社名稱
     
### # 書籍的表中的書籍類別資料重複不符合原子姓(違反1NF)
     修正:建立書籍類別的表
     書籍類別:書籍類別編號、類別名稱
     
### # 當作者為多位時不符合原子性(違反1NF)
     修正:建立書籍與作者(可能多位)的表
     書籍與作者:ISBN、作者編號     
### # 書籍的表中的出版社地址相依於出版社書籍而書籍表中的出版社相依於書籍有傳遞相依的情況(違反3NF)
     修正:書籍與出版社的表
     書籍：ISBN、書名、出版社編號、出版年份、書籍類別編號、出版社地址。
     出版社:出版社編號、出版社名稱、出版社地址
     
  
* 會員
  * 資料重複：
  * 插入異常：
  * 更新異常：
  * 刪除異常：

* 借閱
  * 資料重複：
    * 會員姓名
    * 書名
  * 插入異常：
  * 更新異常：
    * 會員姓名
    * 書名
  * 刪除異常：
### # 會員卡號、ISBN、借閱日期屬於借閱的複合主鍵會員姓名,書名沒有完全相依於複合主鍵(違反2NF)
     修正:借閱的表
     借閱：會員卡號、ISBN、借閱日期、實際歸還日期。