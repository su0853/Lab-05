# Lab-05_1
## 題目
資料基本包含：

書籍：ISBN、書名、作者 (可能多位)、出版社名稱、出版社地址、出版年份、書籍類別。

會員：會員卡號、會員姓名、會員地址、會員電話、會員Email。

借閱：會員卡號、會員姓名、ISBN、書名、借閱日期、應還日期、實際歸還日期。
## 相依性

### 函數相依性
* 書籍:
  * (ISBN ->書名、作者、出版社名稱、出版年份、書籍類別)
  * (出版社名稱 ->出版社地址)
* 會員:
  * (會員卡號->會員姓名、會員地址、會員電話、會員Email)
* 借閱:
  * (會員卡號、ISBN、借閱日期、實際歸還日期)
  * (會員卡號->會員姓名)
  * (ISBN->書名)
  * (借閱日期->應還日期)
## 問題
識別問題與函數相依性：
分析上述初步收集的資料，找出潛在的資料重複、插入異常、更新異常和刪除異常。
列出所有合理的函數相依性。

* 書籍
  * 資料重複：
    * 作者
    * 出版社名稱->出版社地址
    * 書籍類別
  * 插入異常：
    * 當當前書的還沒加入書籍時,無法儲存出版社名稱
    * 當當前書的還沒加入書籍時,無法儲存類別名稱
    * 當當前書的還沒加入書籍時,無法儲存作者名稱
  * 更新異常：
    * 作者
    * 出版社名稱->出版社地址
  * 刪除異常：
    * 當刪除的書籍的出版社在表中只有一個時,會導致出版社的資訊遺失
    * 當刪除的書籍的出版社在表中只有一個時,會導致書籍類別的資訊遺失
    * 當刪除的書籍的出版社在表中只有一個時,會導致作者的資訊遺失
  
  
* 會員
  * 資料重複：
  * 插入異常：
  * 更新異常：
  * 刪除異常：

* 借閱
  * 資料重複：
    * 會員姓名
    * 書名
  * 插入異常：
  * 更新異常：
    * 會員姓名
    * 書名
  * 刪除異常：
## 合理的函數相依性
書籍：ISBN、書名、出版社編號、出版年份、書籍類別編號。

書籍與作者(可能多位):
ISBN、作者編號

會員：會員卡號、會員姓名、會員地址、會員電話、會員Email。

借閱：借閱編號、會員卡號、ISBN、借閱日期、實際歸還日期。

作者:作者編號、作者名稱

出版社:出版社編號、出版社名稱、出版社地址

書籍類別:書籍類別編號、類別名稱
## 正規化設計
### 函數相依性
* 書籍:
  * (ISBN ->書名、作者編號、出版社編號、出版年份、書籍類別編號)
* 書籍與作者:
  * (ISBN->作者編號)
  ### #註解:這裡作者多位的表 是可以減少書籍表中的重複問題當有一本書有多位作者時如果沒有作者多位的表集集終究會有同一本除了作者欄位補同之外都是重複的資料造成空間的浪費
* 會員:
  * (會員卡號->會員姓名、會員地址、會員電話、會員Email)
* 借閱:
  * (借閱編號->會員卡號、ISBN、借閱日期、實際歸還日期)
* 作者:
  * (作者編號->作者名稱)
* 出版社:
  * (出版社編號->出版社名稱)
* 書籍類別:
  * (書籍類別編號->類別名稱)
## 分析與說明  
書籍：ISBN、書名、作者 (可能多位)、出版社名稱、出版社地址、出版年份、書籍類別。
* 分析:
  * (ISBN ->書名、作者、出版社名稱、出版年份、書籍類別)
  * (出版社名稱 ->出版社地址)
### #  ISBN與出版社在書籍的表中都是主鍵後面都有相依的屬性代表在資料列中並沒有唯一的主鍵(違反1NF)
* 修正:將出版社分出達到書籍表唯一主鍵(1NF)
  * 書籍：ISBN、書名、出版社名稱、出版年份、書籍類別編號。
  * 出版社:出版社名稱、出版社地址
* 解決識別到的問題
  * 書籍
    * 資料重複：
      * 作者(作者編號),((多位)書籍與作者(表))
      * 出版社名稱(出版社編號)->出版社地址
      * 書籍類別(書籍類別編號)
    * 插入異常：
      * 當當前書的還沒加入書籍時,無法儲存出版社名稱(出版社(表))
    * 當當前書的還沒加入書籍時,無法儲存類別名稱(書籍類別(表))
    * 更新異常：
      * 作者(作者編號)
      * 出版社名稱(出版社編號)->出版社地址
    * 刪除異常：
      * 當刪除的書籍的出版社在表中只有一個時,會導致出版社的資訊遺失(出版社(表))
      * 當刪除的書籍的出版社在表中只有一個時,會導致書籍類別的資訊遺失(書籍類別(表))
  
會員：會員卡號、會員姓名、會員地址、會員電話、會員Email。

借閱：會員卡號、會員姓名、ISBN、書名、借閱日期、應還日期、實際歸還日期。
* 分析
  * 借閱:
  * (會員卡號、ISBN、借閱日期->實際歸還日期)
  * (會員卡號->會員姓名)
  * (ISBN->書名)
  * (借閱日期->應還日期)
* 修正:屬於複合主鍵(會員卡號、ISBN、借閱日期)(2NF)
      部分依賴性(3NF)
      (會員卡號->會員姓名)
      (ISBN->書名)
      (借閱日期->應還日期)
* 解決識別到的問題
  * 借閱
    * 資料重複：
      * 會員姓名
      * 書名
    * 插入異常：
    * 更新異常：
      * 會員姓名
      * 書名
    * 刪除異常：